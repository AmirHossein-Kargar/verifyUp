# ุฎูุงุตู ฺฉูพุงุฑฺูโุณุงุฒ ุณุฑูุณ SMS.ir

## โ ฺฉุงุฑูุง ุงูุฌุงู ุดุฏู

### 1๏ธโฃ ุณุฑูุณ ุงุตู SMS

ูุงู: `src/services/sms.service.js`

ฺฉ ุณุฑูุณ ฺฉุงูู ุจุฑุง ุงุฑุชุจุงุท ุจุง API ุณุฑูุณ sms.ir ฺฉู ุดุงูู:

- ูพุดุชุจุงู ุงุฒ ูุญุท Sandbox (ุชุณุช) ู Production (ูุงูุน)
- ุงุฑุณุงู ูพุงูฺฉ ุจุง ูุงูุจโูุง ุงุฒ ูพุด ุชุนุฑู ุดุฏู
- ูุฏุฑุช ุฎุทุงูุง ูุฎุชูู API
- ูุงฺฏโฺฏุฐุงุฑ ููุงุณุจ

### 2๏ธโฃ ุชูุงุจุน ฺฉูฺฉ

ูุงู: `src/utils/sms.helper.js`

ุชูุงุจุน ุขูุงุฏู ุจุฑุง ุงุณุชูุงุฏู ุขุณุงู:

- `generateVerificationCode()` - ุชููุฏ ฺฉุฏ ุชุงุฏ ุชุตุงุฏู
- `sendVerificationCode()` - ุงุฑุณุงู ฺฉุฏ ุชุงุฏ
- `sendCustomSMS()` - ุงุฑุณุงู ูพุงูฺฉ ุณูุงุฑุด
- `formatMobileNumber()` - ูุฑูุช ฺฉุฑุฏู ุดูุงุฑู ููุจุงู

### 3๏ธโฃ ฺฉูพุงุฑฺูโุณุงุฒ ุจุง ุณุณุชู ููุฌูุฏ

ูุงู: `src/utils/verification.js`

ุชุงุจุน `sendOtp()` ุจูโุฑูุฒุฑุณุงู ุดุฏ ู ุญุงูุง:

- ุงุฒ ุณุฑูุณ ูุงูุน SMS.ir ุงุณุชูุงุฏู ูโฺฉูุฏ
- ุดูุงุฑู ููุจุงู ุฑุง ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ูุฑูุช ูโฺฉูุฏ
- ุฏุฑ ุตูุฑุช ุฎุทุงุ ุฏุฑ ูุญุท development ฺฉุฏ ุฑุง ูุงฺฏ ูโฺฉูุฏ

### 4๏ธโฃ ุชูุธูุงุช ูุญุท

ูุงูโูุง: `.env.example`, `.env.sms.example`

ูุชุบุฑูุง ุฌุฏุฏ:

```env
SMS_API_KEY=ฺฉูุฏ_API_ุดูุง
SMS_ENVIRONMENT=sandbox
SMS_TEMPLATE_ID=123456
```

### 5๏ธโฃ ูุณุชูุฏุงุช ฺฉุงูู

#### ุงูฺฏูุณ:

- `SMS_INTEGRATION.md` - ุฑุงูููุง ฺฉุงูู ฺฉูพุงุฑฺูโุณุงุฒ
- `SMS_QUICK_START.md` - ุฑุงูููุง ุณุฑุน 5 ุฏูููโุง
- `SMS_CHANGELOG.md` - ุชุงุฑุฎฺู ุชุบุฑุงุช

#### ูุงุฑุณ:

- `ุฑุงูููุง-SMS.md` - ุฑุงูููุง ฺฉุงูู ูุงุฑุณ
- `ุฎูุงุตู-ฺฉูพุงุฑฺูโุณุงุฒ-SMS.md` - ุงู ูุงู

### 6๏ธโฃ ุงุณฺฉุฑูพุชโูุง ุชุณุช

- `test-sms.js` - ุชุณุช ุณุฑุน ุณุฑูุณ
- `src/examples/sms-examples.js` - 8 ูุซุงู ฺฉุงุฑุจุฑุฏ

### 7๏ธโฃ ุงุณฺฉุฑูพุชโูุง npm

```bash
npm run test:sms        # ุชุณุช ุณุฑูุณ SMS
npm run examples:sms    # ุงุฌุฑุง ูุซุงูโูุง
```

## ๐ ูุญูู ุงุณุชูุงุฏู

### ูุฑุญูู 1: ุฏุฑุงูุช ฺฉูุฏ API

1. ุจู ูพูู sms.ir ุจุฑูุฏ: https://sms.ir/panel/developers
2. ฺฉ ฺฉูุฏ API ุจุง ููุน **Sandbox** ุงุฌุงุฏ ฺฉูุฏ
3. ฺฉูุฏ ุฑุง ฺฉูพ ฺฉูุฏ

### ูุฑุญูู 2: ุชูุธู ูุงู .env

```env
SMS_API_KEY=ฺฉูุฏ_ฺฉูพ_ุดุฏู
SMS_ENVIRONMENT=sandbox
SMS_TEMPLATE_ID=123456
```

### ูุฑุญูู 3: ุชุณุช

```bash
npm run test:sms
```

### ูุฑุญูู 4: ุงุณุชูุงุฏู ุฏุฑ ฺฉุฏ

ุณุฑูุณ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุฏุฑ ูุฑุขูุฏ ุซุจุชโูุงู ฺฉุงุฑ ูโฺฉูุฏ!

```javascript
// ุฏุฑ auth.controller.js
// ููฺฏุงู ุซุจุชโูุงูุ OTP ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงุฑุณุงู ูโุดูุฏ
await sendOtp(data.phone, otp);
```

## ๐ฑ ูฺฺฏโูุง

### ูุญุท Sandbox (ุชุณุช)

โ ุจุฏูู ุงุฑุณุงู ูพุงูฺฉ ูุงูุน
โ ุจุฏูู ูุตุฑู ุงุนุชุจุงุฑ
โ ูุงูุจ ูพุดโูุฑุถ ุจุง ุดูุงุณู 123456
โ ููุงุณุจ ุจุฑุง ุชูุณุนู ู ุชุณุช

### ูุญุท Production (ูุงูุน)

โ ุงุฑุณุงู ูพุงูฺฉ ูุงูุน
โ ูุตุฑู ุงุนุชุจุงุฑ
โ ูุงูุจโูุง ุณูุงุฑุด
โ ููุงุณุจ ุจุฑุง ูุญุท ุงุตู

## ๐ฏ ฺฉุงุฑุจุฑุฏูุง

1. **ุซุจุชโูุงู ฺฉุงุฑุจุฑ** - ุงุฑุณุงู ฺฉุฏ ุชุงุฏ ููุจุงู
2. **ุจุงุฒุงุจ ุฑูุฒ ุนุจูุฑ** - ุงุฑุณุงู ฺฉุฏ ุจุงุฒุงุจ
3. **ุชุงุฏ ุณูุงุฑุด** - ุงุทูุงุนโุฑุณุงู ุจู ฺฉุงุฑุจุฑ
4. **ุงุญุฑุงุฒ ููุช ุฏู ูุฑุญููโุง** - ุงููุช ุจุดุชุฑ
5. **ุงุนูุงูโูุง** - ุงุทูุงุนโุฑุณุงู ุนููู

## ๐ ูุงูโูุง ุงุฌุงุฏ ุดุฏู

```
backend/
โโโ src/
โ   โโโ services/
โ   โ   โโโ sms.service.js          โจ ุณุฑูุณ ุงุตู SMS
โ   โโโ utils/
โ   โ   โโโ sms.helper.js           โจ ุชูุงุจุน ฺฉูฺฉ
โ   โ   โโโ verification.js         ๐ ุจูโุฑูุฒุฑุณุงู ุดุฏู
โ   โโโ examples/
โ       โโโ sms-examples.js         โจ 8 ูุซุงู ฺฉุงุฑุจุฑุฏ
โโโ test-sms.js                     โจ ุงุณฺฉุฑูพุช ุชุณุช
โโโ .env.example                    ๐ ุจูโุฑูุฒุฑุณุงู ุดุฏู
โโโ .env.sms.example                โจ ูุซุงู ุชูุธูุงุช SMS
โโโ package.json                    ๐ ุงุณฺฉุฑูพุชโูุง ุฌุฏุฏ
โโโ README.md                       ๐ ุจูโุฑูุฒุฑุณุงู ุดุฏู
โโโ SMS_INTEGRATION.md              โจ ุฑุงูููุง ุงูฺฏูุณ
โโโ SMS_QUICK_START.md              โจ ุฑุงูููุง ุณุฑุน
โโโ SMS_CHANGELOG.md                โจ ุชุงุฑุฎฺู ุชุบุฑุงุช
โโโ ุฑุงูููุง-SMS.md                  โจ ุฑุงูููุง ูุงุฑุณ
โโโ ุฎูุงุตู-ฺฉูพุงุฑฺูโุณุงุฒ-SMS.md       โจ ุงู ูุงู
```

## ๐งช ุชุณุช ุณุฑุน

### ุชุณุช 1: ุจุฑุฑุณ ูพฺฉุฑุจูุฏ

```bash
npm run test:sms
```

### ุชุณุช 2: ุงุฌุฑุง ูุซุงู ุณุงุฏู

```bash
npm run examples:sms 1
```

### ุชุณุช 3: ุจุฑุฑุณ ูุถุนุช ุณุฑูุณ

```bash
npm run examples:sms 8
```

## ๐ ุชุบุฑ ุจู ูุญุท Production

ููุช ุขูุงุฏู ุงุณุชูุงุฏู ูุงูุน ุดุฏุฏ:

### 1. ุงุฌุงุฏ ูุงูุจ ุฏุฑ ูพูู

- ุจู ูพูู sms.ir ุจุฑูุฏ
- ุจุฎุด "ุงุฑุณุงู ุณุฑุน" โ "ูุงูุจโูุง ูู"
- ูุงูุจ ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ
- ุดูุงุณู ูุงูุจ ุฑุง ุงุฏุฏุงุดุช ฺฉูุฏ

### 2. ุฏุฑุงูุช ฺฉูุฏ Production

- ฺฉูุฏ API ุฌุฏุฏ ุจุง ููุน **Production** ุงุฌุงุฏ ฺฉูุฏ

### 3. ุจูโุฑูุฒุฑุณุงู .env

```env
SMS_API_KEY=ฺฉูุฏ_production
SMS_ENVIRONMENT=production
SMS_TEMPLATE_ID=ุดูุงุณู_ูุงูุจ_ุดูุง
```

## โ๏ธ ูฺฉุงุช ููู

1. **ุงููุช**: ูุฑฺฏุฒ ฺฉูุฏ API ุฑุง ุฏุฑ git commit ูฺฉูุฏ
2. **ุชุณุช**: ุญุชูุงู ุฏุฑ Sandbox ุชุณุช ฺฉูุฏ
3. **ุงุนุชุจุงุฑ**: ูุจู ุงุฒ Production ุงุนุชุจุงุฑ ฺฉุงู ุฏุงุดุชู ุจุงุดุฏ
4. **ูุงูุจ**: ูุงู ูพุงุฑุงูุชุฑูุง ุจุงุฏ ุฏููุงู ูุทุงุจู ูุงูุจ ุจุงุดุฏ
5. **Rate Limit**: ุจู ุฏุฑุฎูุงุณุชโูุง ูุชูุงู ุชุงุฎุฑ ุงุฌุงุฏ ฺฉูุฏ

## ๐ ูพุดุชุจุงู

### ูุณุชูุฏุงุช

- [ุฑุงูููุง ฺฉุงูู ูุงุฑุณ](./ุฑุงูููุง-SMS.md)
- [ุฑุงูููุง ฺฉุงูู ุงูฺฏูุณ](./SMS_INTEGRATION.md)
- [ุฑุงูููุง ุณุฑุน](./SMS_QUICK_START.md)

### ุชุณุช ู ูุซุงูโูุง

```bash
npm run test:sms              # ุชุณุช ุณุฑูุณ
npm run examples:sms 1        # ูุซุงู ุณุงุฏู
npm run examples:sms 5        # ุงุฑุณุงู ุฏุณุชูโุง
npm run examples:sms 8        # ุจุฑุฑุณ ูุถุนุช
```

### ููฺฉโูุง ููุฏ

- ูพูู sms.ir: https://sms.ir/panel
- ุจุฎุด ุจุฑูุงููโููุณุงู: https://sms.ir/panel/developers
- ูุณุชูุฏุงุช API: https://sms.ir/api

## โจ ุฎูุงุตู

ฺฉูพุงุฑฺูโุณุงุฒ ฺฉุงูู ุณุฑูุณ SMS.ir ุจุง ููููุช ุงูุฌุงู ุดุฏ:

โ ุณุฑูุณ ฺฉุงูู ู ุขูุงุฏู ุงุณุชูุงุฏู
โ ูพุดุชุจุงู ุงุฒ Sandbox ู Production
โ ูุณุชูุฏุงุช ฺฉุงูู ูุงุฑุณ ู ุงูฺฏูุณ
โ 8 ูุซุงู ฺฉุงุฑุจุฑุฏ
โ ุงุณฺฉุฑูพุชโูุง ุชุณุช
โ ฺฉูพุงุฑฺู ุจุง ุณุณุชู ููุฌูุฏ
โ ูุฏุฑุช ุฎุทุง ู ูุงฺฏโฺฏุฐุงุฑ
โ ุขูุงุฏู ุจุฑุง ุงุณุชูุงุฏู ุฏุฑ production

**ููุท ฺฉุงูุณุช ฺฉูุฏ API ุฑุง ุฏุฑ .env ูุฑุงุฑ ุฏูุฏ ู ุดุฑูุน ฺฉูุฏ! ๐**
